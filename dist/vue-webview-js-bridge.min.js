/**
 * vue-webview-js-bridge v0.0.6
 * (c) 2019 Kntt
 * @license MIT
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.VueWebviewJsBridge=n()}(this,function(){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},e=function(){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}}(),i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},c=function(){function t(e){if(r(this,t),"[object Function]"!==Object.prototype.toString.call(e))throw new Error("mockHandler "+(null==(n=e)?String(n):"object"===(void 0===n?"undefined":o(n))?{"[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"}[Object.prototype.toString.call(n)]||"object":void 0===n?"undefined":o(n))+" is not a function");var n;this.mockHandler=e}return e(t,[{key:"registerHandler",value:function(e,n){}},{key:"callHandler",value:function(e,n,t){this.mockHandler(n,t)}}]),t}(),a=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};r(this,n),this.options=e}return e(n,[{key:"init",value:function(e){var n=this.options,t=n.debug,o=n.mock,r=n.mockHandler;if(o&&r)return t&&console.log("[VueJsBridge] work in mock mode..."),e(new c(r));if(window.WebViewJavascriptBridge)return e(window.WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var i=document.createElement("iframe");i.style.display="none",i.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(i),setTimeout(function(){document.documentElement.removeChild(i)},0)}},{key:"registerHandler",value:function(n,t){this.init(function(e){e.registerHandler(n,t)})}},{key:"callHandler",value:function(n){var e=this.options,t=e.debug,o=e.nativeHandlerName,r=void 0,i=void 0,c=new Promise(function(e,n){r=e,i=n});return t&&console.info("[VueJsBridge] Start calling NativeHandler with payload:",n),this.init(function(e){try{e.callHandler(o,n,function(e){t&&console.info("[VueJsBridge] Success response:",e),r(e)})}catch(e){t&&console.info("[VueJsBridge] Failed error:",e),i(e)}}),c}}]),n}(),l={debug:!0,nativeHandlerName:"nativeHandler",mock:!0,mockHandler:null};return{install:function(e,n){var t=i({},l,n);Object.defineProperty(e.prototype,"$bridge",{value:new a(t)})},version:"0.0.6"}});